{"version":3,"file":"post.js","sources":["../cleanup.js","../cleanup.js?commonjs-entry"],"sourcesContent":["const core = require('@actions/core');\n\nconst setup = require('./lib/frieza');\n\n(async () => {\n  try {\n    const timeout = core.getInput('clean_timeout');\n    const errorOnDirty = core.getInput('error_on_dirty') == 'true';\n    \n    let needsClean = await setup.needsClean()\n\n    if (needsClean) {\n      await setup.cleanAccount(timeout)\n    }\n\n    await setup.removeCredentials()\n\n    if (needsClean && errorOnDirty) {\n      core.setFailed(\"The state is different. New resources were found.\");\n    }\n  } catch (error) {\n    core.setFailed(error.message);\n  }\n})();","import { getDefaultExportFromCjs } from \"\u0000commonjsHelpers.js\";\nimport { __require as requireCleanup } from \"/home/outscale/Workspace/frieza-github-actions/frieza-clean/cleanup.js\";\nvar cleanupExports = requireCleanup();\nexport { cleanupExports as __moduleExports };\nexport default /*@__PURE__*/getDefaultExportFromCjs(cleanupExports);"],"names":["require$$0","require$$1"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAA,MAAM,IAAI,GAAGA,WAAA,EAAwB;;CAErC,MAAM,KAAK,GAAGC,aAAA,EAAuB;;AAErC,CAAA,CAAC,YAAY;AACb,GAAE,IAAI;KACF,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;KAC9C,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,MAAM;AAClE;AACA,KAAI,IAAI,UAAU,GAAG,MAAM,KAAK,CAAC,UAAU;;KAEvC,IAAI,UAAU,EAAE;AACpB,OAAM,MAAM,KAAK,CAAC,YAAY,CAAC,OAAO;AACtC,KAAA;;KAEI,MAAM,KAAK,CAAC,iBAAiB;;AAEjC,KAAI,IAAI,UAAU,IAAI,YAAY,EAAE;AACpC,OAAM,IAAI,CAAC,SAAS,CAAC,mDAAmD,CAAC;AACzE,KAAA;GACA,CAAG,CAAC,OAAO,KAAK,EAAE;AAClB,KAAI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;AACjC,GAAA;AACA,CAAA,CAAC,GAAG;;;;ACrBJ,IAAI,cAAc,GAAG,cAAc,EAAE;AAErC,cAAe,aAAa,uBAAuB,CAAC,cAAc,CAAC;;;;"}